{"version":3,"sources":["webpack:///indico/web/modules/events/management/client/js/badges.js","webpack:///indico/web/modules/events/management/client/js/index.js","webpack:///external \"jQuery\""],"names":["window","setupBadgePrinting","templates","$template","$","$pageLayout","$dashedBorder","$pageSize","$pageOrientation","$marginEditor","$infoMessage","toggleFoldableOption","template","pageSize","pageOrientation","A0","A1","A2","A3","A4","A5","A6","format","orientation","prop","val","next","on","$this","this","parseInt","closest","toggle","backside_tpl_id","change","add","global","refreshPersonFilters","removeClass","personRows","filters","map","addClass","data","get","visibleEntries","filter","_","any","filterName","trigger","toggleResetBtn","isInitialState","length","toggleClass","initTooltip","qtip","content","text","hide","delay","fixed","setupEventManagementActionMenu","evt","preventDefault","categorynavigator","openInDialog","actionOn","categoriesWithoutEventCreationRights","disabled","categories","ids","onAction","category","msg","$T","gettext","title","confirmPrompt","then","ajax","url","type","target_category_id","id","error","handleAjaxError","success","location","reload","qbubble","style","classes","join","setupEventPersonsList","options","extend","hasNoAccountFilter","hasNoRegistrationFilter","applySearchFilters","setupSearchBox","itemHandle","listItems","term","state","placeholder","enableIfChecked","dropdown","offsetWidth","scrollWidth","attr","tablesorter","cssAsc","cssDesc","headerTemplate","sortList","$roleLabels","show","event","position","my","at","html","role","append","is","list","class","items","values","sort","a","b","strnatcmp","toLowerCase","each","item","href","css","Color","alpha","checked","$personFilters","find","parent","$checkbox","showUndoWarning","message","feedbackMessage","actionCallback","cornerMessage","progressMessage","actionLabel","duration","feedbackDuration","handleSelectedRowHighlight","$obj","showThemeSettingsForm","formUrl","themeFieldId","lastFieldId","theme","complete","IndicoUI","Dialogs","Util","progress","lastField","nextAll","remove","after","js","module","exports","jQuery"],"mappings":"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","file":"js/module_events.management.1c2f92fc.bundle.js","sourcesContent":["// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\n(function(global) {\n  global.setupBadgePrinting = function setupBadgePrinting(templates) {\n    const $template = $('#template');\n    const $pageLayout = $('#page_layout');\n    const $dashedBorder = $('#dashed_border');\n    const $pageSize = $('#page_size');\n    const $pageOrientation = $('#page_orientation');\n    const $marginEditor = $('.margin-editor');\n    const $infoMessage = $('.info');\n\n    function toggleFoldableOption(template, pageSize, pageOrientation) {\n      const foldablePairs = {\n        A0: 'A2',\n        A1: 'A3',\n        A2: 'A4',\n        A3: 'A5',\n        A4: 'A6',\n        A5: 'A7',\n        A6: 'A8',\n      };\n      if (foldablePairs[pageSize] === template.format && pageOrientation === template.orientation) {\n        $(\"#page_layout option[value='foldable']\").prop('disabled', false);\n      } else {\n        $(\"#page_layout option[value='foldable']\").prop('disabled', true);\n        if ($('#page_layout :selected').val() === 'foldable') {\n          $('#page_layout :selected')\n            .next()\n            .prop('selected', true);\n        }\n      }\n    }\n\n    $template\n      .on('change', function() {\n        const $this = $(this);\n        const template = templates[parseInt($this.val(), 10)];\n\n        $pageLayout.closest('.form-group').toggle(!!template.backside_tpl_id);\n        $pageLayout.val('front_only');\n        toggleFoldableOption(template, $pageSize.val(), $pageOrientation.val());\n      })\n      .change();\n\n    $pageLayout\n      .on('change', function() {\n        $marginEditor.add($infoMessage).toggle($(this).val() !== 'foldable');\n        $dashedBorder.closest('.form-group').toggle($(this).val() !== 'foldable');\n      })\n      .change();\n    $pageSize\n      .add($pageOrientation)\n      .on('change', function() {\n        toggleFoldableOption(\n          templates[parseInt($template.val(), 10)],\n          $pageSize.val(),\n          $pageOrientation.val()\n        );\n        $pageLayout.change();\n      })\n      .change();\n  };\n})(window);\n","// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\n/* global setupSearchBox:false, strnatcmp:false */\n\nimport 'selectize';\nimport 'selectize/dist/css/selectize.css';\nimport 'selectize/dist/css/selectize.default.css';\n\nimport 'indico/modules/events/util/list_generator';\nimport 'indico/modules/events/util/static_filters';\n\nimport './badges';\n\n(function(global) {\n  global.setupEventManagementActionMenu = function setupEventManagementActionMenu() {\n    $('#event-action-move-to-category').on('click', function(evt) {\n      evt.preventDefault();\n\n      const $this = $(this);\n      $('<div>').categorynavigator({\n        openInDialog: true,\n        actionOn: {\n          categoriesWithoutEventCreationRights: {\n            disabled: true,\n          },\n          categories: {\n            disabled: true,\n            ids: [$this.data('category-id')],\n          },\n        },\n        onAction(category) {\n          const msg = $T\n            .gettext(\n              'You are about to move the event to the category \"{0}\". Are you sure you want to proceed?'\n            )\n            .format(category.title);\n          confirmPrompt(msg, $T.gettext('Move event')).then(function() {\n            $.ajax({\n              url: $this.data('href'),\n              type: 'POST',\n              data: {target_category_id: category.id},\n              error: handleAjaxError,\n              success(data) {\n                if (data.success) {\n                  location.reload();\n                }\n              },\n            });\n          });\n        },\n      });\n    });\n\n    $('#event-action-menu-clones-target').qbubble({\n      content: {\n        text: $('#event-action-menu-clones'),\n      },\n    });\n\n    $('#event-action-menu-actions-target').qbubble({\n      content: {\n        text: $('#event-action-menu-actions'),\n      },\n      style: {\n        classes: 'qtip-allow-overflow',\n      },\n    });\n\n    const selectors = [\n      '#event-action-menu-actions button:not(.js-dropdown)',\n      '#event-action-menu-actions a:not(.disabled)',\n    ];\n    $(selectors.join(', ')).on('click', function() {\n      $('#event-action-menu-actions-target').qbubble('hide');\n    });\n  };\n\n  function refreshPersonFilters() {\n    $('#person-filters ul > li').removeClass('enabled');\n    const personRows = $('.js-event-person-list tr[data-person-roles]');\n    const filters = $('.js-event-person-list [data-filter]:checked')\n      .map(function() {\n        const $this = $(this);\n        $this.closest('li').addClass('enabled');\n        return $this.data('filter');\n      })\n      .get();\n\n    const visibleEntries = personRows.filter(function() {\n      const $this = $(this);\n\n      return _.any(filters, function(filterName) {\n        return $this.data('person-roles')[filterName];\n      });\n    });\n\n    personRows.addClass('hidden');\n    visibleEntries.removeClass('hidden');\n    $('.js-event-person-list').trigger('indico:syncEnableIfChecked');\n  }\n\n  function toggleResetBtn() {\n    const isInitialState =\n      $('#person-filters [data-filter]:checked').length ===\n      $('#person-filters [data-filter]:not(#filter-no-account,#filter-no-registration)').length;\n    $('.js-reset-role-filter').toggleClass('disabled', isInitialState);\n  }\n\n  function initTooltip() {\n    $('.js-show-regforms').qtip({\n      content: {\n        text() {\n          return $(this).data('title');\n        },\n      },\n      hide: {\n        delay: 100,\n        fixed: true,\n      },\n    });\n  }\n\n  global.setupEventPersonsList = function setupEventPersonsList(options) {\n    options = $.extend(\n      {\n        hasNoAccountFilter: false,\n        hasNoRegistrationFilter: false,\n      },\n      options\n    );\n\n    const filterConfig = {\n      itemHandle: 'tr',\n      listItems: '#event-participants-list tbody tr:not(.hidden)',\n      term: '#search-input',\n      state: '#filtering-state',\n      placeholder: '#filter-placeholder',\n    };\n    const applySearchFilters = setupSearchBox(filterConfig);\n\n    enableIfChecked(\n      '.js-event-person-list',\n      '.select-row:visible',\n      '.js-event-person-list .js-requires-selected-row'\n    );\n    if ($('.js-event-person-list').closest('.ui-dialog').length) {\n      $('.js-event-person-list [data-toggle=dropdown]')\n        .closest('.toolbar')\n        .dropdown();\n    }\n    $('.js-event-person-list [data-filter]').on('click', refreshPersonFilters);\n\n    $('.js-event-person-list td').on('mouseenter', function() {\n      const $this = $(this);\n      if (this.offsetWidth < this.scrollWidth && !$this.attr('title')) {\n        $this.attr('title', $this.text());\n      }\n    });\n\n    $('.js-event-person-list .tablesorter').tablesorter({\n      cssAsc: 'header-sort-asc',\n      cssDesc: 'header-sort-desc',\n      headerTemplate: '',\n      sortList: [[1, 0]],\n    });\n\n    const $roleLabels = $('.js-event-person-list .roles-column > span');\n    $roleLabels.qbubble({\n      show: {\n        event: 'mouseover',\n      },\n      hide: {\n        fixed: true,\n        delay: 100,\n        event: 'mouseleave',\n      },\n      position: {\n        my: 'left center',\n        at: 'right center',\n      },\n      content: {\n        text() {\n          const $this = $(this);\n          const html = $('<div>');\n          const role = $('<strong>', {text: $(this).data('role-name')});\n          html.append(role);\n          if ($this.is('.js-count-label')) {\n            const list = $('<ul>', {class: 'qbubble-item-list'});\n            const items = _.values($this.data('items')).sort(function(a, b) {\n              return strnatcmp(a.title.toLowerCase(), b.title.toLowerCase());\n            });\n\n            $.each(items, function() {\n              const item = $('<li>');\n              if (this.url) {\n                item.append($('<a>', {text: this.title, href: this.url}));\n              } else {\n                item.text(this.title);\n              }\n              list.append(item);\n            });\n            html.append(list);\n          }\n\n          return html;\n        },\n      },\n    });\n\n    // Sets background color of custom role labels based on their font color\n    $roleLabels.filter('.custom').each(function() {\n      const $this = $(this);\n      $this.css('background-color', $.Color($this.css('color')).alpha(0.1));\n    });\n\n    if (options.hasNoAccountFilter) {\n      $('.js-event-person-list [data-filter]:not(#filter-no-account)').on('change', function() {\n        $('#filter-no-account').prop('checked', false);\n        refreshPersonFilters();\n        applySearchFilters();\n      });\n      $('#filter-no-account').on('change', function() {\n        if (this.checked) {\n          $('.js-event-person-list [data-filter]:checked:not(#filter-no-account)').prop(\n            'checked',\n            false\n          );\n        }\n        refreshPersonFilters();\n        applySearchFilters();\n      });\n    }\n\n    if (options.hasNoRegistrationFilter) {\n      $('.js-event-person-list [data-filter]:not(#filter-no-registration)').on(\n        'change',\n        function() {\n          $('#filter-no-registration').prop('checked', false);\n          refreshPersonFilters();\n          applySearchFilters();\n        }\n      );\n      $('#filter-no-registration').on('change', function() {\n        if (this.checked) {\n          $('.js-event-person-list [data-filter]:checked:not(#filter-no-registration)').prop(\n            'checked',\n            false\n          );\n        }\n        refreshPersonFilters();\n        applySearchFilters();\n      });\n    }\n\n    initTooltip();\n\n    const $personFilters = $('#person-filters');\n    // Sets background color of role filter items based on their colored squared color\n    $personFilters.find('li .colored-square').each(function() {\n      const $this = $(this);\n      $this.closest('li').css('background-color', $.Color($this.css('color')).alpha(0.1));\n    });\n\n    // Reset role filters\n    $personFilters.find('.js-reset-role-filter').on('click', function() {\n      $('.js-event-person-list [data-filter]').each(function() {\n        const $this = $(this);\n        $this.prop('checked', !$this.is('#filter-no-account, #filter-no-registration'));\n        $this\n          .parent()\n          .toggleClass('enabled', !$this.is('#filter-no-account, #filter-no-registration'));\n      });\n      refreshPersonFilters();\n      applySearchFilters();\n      toggleResetBtn();\n    });\n\n    // Allows to click in the whole list item area to enable/disable role filters\n    $personFilters.find('li label').on('click', function(evt) {\n      evt.preventDefault();\n    });\n    $personFilters.find('li').on('click', function() {\n      const $checkbox = $(this).find('[data-filter]');\n      $checkbox.prop('checked', !$checkbox.prop('checked')).trigger('change');\n      toggleResetBtn();\n    });\n\n    $('#event-participants-list').on('indico:htmlUpdated', initTooltip);\n  };\n\n  global.showUndoWarning = function showUndoWarning(message, feedbackMessage, actionCallback) {\n    cornerMessage({\n      message,\n      progressMessage: $T.gettext('Undoing previous operation...'),\n      feedbackMessage,\n      actionLabel: $T.gettext('Undo'),\n      actionCallback,\n      duration: 10000,\n      feedbackDuration: 4000,\n      class: 'warning',\n    });\n  };\n\n  global.handleSelectedRowHighlight = function handleSelectedRowHighlight(trigger) {\n    const $obj = $('table.i-table input.select-row').on('change', function() {\n      $(this)\n        .closest('tr')\n        .toggleClass('selected', this.checked);\n    });\n\n    if (trigger) {\n      $obj.trigger('change');\n    }\n  };\n\n  global.showThemeSettingsForm = function showThemeSettingsForm(options) {\n    options = $.extend(\n      true,\n      {\n        formUrl: null,\n        themeFieldId: null,\n        lastFieldId: null,\n      },\n      options\n    );\n    $(`#${options.themeFieldId}`).on('change', function() {\n      $.ajax({\n        url: options.formUrl,\n        data: {\n          theme: $(this).val(),\n        },\n        complete: IndicoUI.Dialogs.Util.progress(),\n        error: handleAjaxError,\n        success(data) {\n          const lastField = $(`#${options.lastFieldId}`);\n          lastField.nextAll(':not(.form-group-footer)').remove();\n          if (data.html) {\n            lastField.after(data.html);\n          }\n          if (data.js) {\n            $('body').append(data.js);\n          }\n        },\n      });\n    });\n  };\n})(window);\n","module.exports = jQuery;"],"sourceRoot":""}