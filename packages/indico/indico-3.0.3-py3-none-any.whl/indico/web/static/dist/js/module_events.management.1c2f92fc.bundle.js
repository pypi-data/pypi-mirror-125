(self.webpackChunk=self.webpackChunk||[]).push([[3827],{98791:()=>{window.setupBadgePrinting=function(e){const t=$("#template"),n=$("#page_layout"),o=$("#dashed_border"),s=$("#page_size"),i=$("#page_orientation"),a=$(".margin-editor"),r=$(".info");function l(e,t,n){({A0:"A2",A1:"A3",A2:"A4",A3:"A5",A4:"A6",A5:"A7",A6:"A8"})[t]===e.format&&n===e.orientation?$("#page_layout option[value='foldable']").prop("disabled",!1):($("#page_layout option[value='foldable']").prop("disabled",!0),"foldable"===$("#page_layout :selected").val()&&$("#page_layout :selected").next().prop("selected",!0))}t.on("change",(function(){const t=$(this),o=e[parseInt(t.val(),10)];n.closest(".form-group").toggle(!!o.backside_tpl_id),n.val("front_only"),l(o,s.val(),i.val())})).change(),n.on("change",(function(){a.add(r).toggle("foldable"!==$(this).val()),o.closest(".form-group").toggle("foldable"!==$(this).val())})).change(),s.add(i).on("change",(function(){l(e[parseInt(t.val(),10)],s.val(),i.val()),n.change()})).change()}},42430:(e,t,n)=>{"use strict";n(96901),n(17388),n(70967),n(98791);var o=n(42406).default;!function(e){function t(){$("#person-filters ul > li").removeClass("enabled");const e=$(".js-event-person-list tr[data-person-roles]"),t=$(".js-event-person-list [data-filter]:checked").map((function(){const e=$(this);return e.closest("li").addClass("enabled"),e.data("filter")})).get(),n=e.filter((function(){const e=$(this);return o.any(t,(function(t){return e.data("person-roles")[t]}))}));e.addClass("hidden"),n.removeClass("hidden"),$(".js-event-person-list").trigger("indico:syncEnableIfChecked")}function n(){const e=$("#person-filters [data-filter]:checked").length===$("#person-filters [data-filter]:not(#filter-no-account,#filter-no-registration)").length;$(".js-reset-role-filter").toggleClass("disabled",e)}function s(){$(".js-show-regforms").qtip({content:{text(){return $(this).data("title")}},hide:{delay:100,fixed:!0}})}e.setupEventManagementActionMenu=function(){$("#event-action-move-to-category").on("click",(function(e){e.preventDefault();const t=$(this);$("<div>").categorynavigator({openInDialog:!0,actionOn:{categoriesWithoutEventCreationRights:{disabled:!0},categories:{disabled:!0,ids:[t.data("category-id")]}},onAction(e){const n=$T.gettext('You are about to move the event to the category "{0}". Are you sure you want to proceed?').format(e.title);confirmPrompt(n,$T.gettext("Move event")).then((function(){$.ajax({url:t.data("href"),type:"POST",data:{target_category_id:e.id},error:handleAjaxError,success(e){e.success&&location.reload()}})}))}})})),$("#event-action-menu-clones-target").qbubble({content:{text:$("#event-action-menu-clones")}}),$("#event-action-menu-actions-target").qbubble({content:{text:$("#event-action-menu-actions")},style:{classes:"qtip-allow-overflow"}});$(["#event-action-menu-actions button:not(.js-dropdown)","#event-action-menu-actions a:not(.disabled)"].join(", ")).on("click",(function(){$("#event-action-menu-actions-target").qbubble("hide")}))},e.setupEventPersonsList=function(e){e=$.extend({hasNoAccountFilter:!1,hasNoRegistrationFilter:!1},e);const i=setupSearchBox({itemHandle:"tr",listItems:"#event-participants-list tbody tr:not(.hidden)",term:"#search-input",state:"#filtering-state",placeholder:"#filter-placeholder"});enableIfChecked(".js-event-person-list",".select-row:visible",".js-event-person-list .js-requires-selected-row"),$(".js-event-person-list").closest(".ui-dialog").length&&$(".js-event-person-list [data-toggle=dropdown]").closest(".toolbar").dropdown(),$(".js-event-person-list [data-filter]").on("click",t),$(".js-event-person-list td").on("mouseenter",(function(){const e=$(this);this.offsetWidth<this.scrollWidth&&!e.attr("title")&&e.attr("title",e.text())})),$(".js-event-person-list .tablesorter").tablesorter({cssAsc:"header-sort-asc",cssDesc:"header-sort-desc",headerTemplate:"",sortList:[[1,0]]});const a=$(".js-event-person-list .roles-column > span");a.qbubble({show:{event:"mouseover"},hide:{fixed:!0,delay:100,event:"mouseleave"},position:{my:"left center",at:"right center"},content:{text(){const e=$(this),t=$("<div>"),n=$("<strong>",{text:$(this).data("role-name")});if(t.append(n),e.is(".js-count-label")){const n=$("<ul>",{class:"qbubble-item-list"}),s=o.values(e.data("items")).sort((function(e,t){return strnatcmp(e.title.toLowerCase(),t.title.toLowerCase())}));$.each(s,(function(){const e=$("<li>");this.url?e.append($("<a>",{text:this.title,href:this.url})):e.text(this.title),n.append(e)})),t.append(n)}return t}}}),a.filter(".custom").each((function(){const e=$(this);e.css("background-color",$.Color(e.css("color")).alpha(.1))})),e.hasNoAccountFilter&&($(".js-event-person-list [data-filter]:not(#filter-no-account)").on("change",(function(){$("#filter-no-account").prop("checked",!1),t(),i()})),$("#filter-no-account").on("change",(function(){this.checked&&$(".js-event-person-list [data-filter]:checked:not(#filter-no-account)").prop("checked",!1),t(),i()}))),e.hasNoRegistrationFilter&&($(".js-event-person-list [data-filter]:not(#filter-no-registration)").on("change",(function(){$("#filter-no-registration").prop("checked",!1),t(),i()})),$("#filter-no-registration").on("change",(function(){this.checked&&$(".js-event-person-list [data-filter]:checked:not(#filter-no-registration)").prop("checked",!1),t(),i()}))),s();const r=$("#person-filters");r.find("li .colored-square").each((function(){const e=$(this);e.closest("li").css("background-color",$.Color(e.css("color")).alpha(.1))})),r.find(".js-reset-role-filter").on("click",(function(){$(".js-event-person-list [data-filter]").each((function(){const e=$(this);e.prop("checked",!e.is("#filter-no-account, #filter-no-registration")),e.parent().toggleClass("enabled",!e.is("#filter-no-account, #filter-no-registration"))})),t(),i(),n()})),r.find("li label").on("click",(function(e){e.preventDefault()})),r.find("li").on("click",(function(){const e=$(this).find("[data-filter]");e.prop("checked",!e.prop("checked")).trigger("change"),n()})),$("#event-participants-list").on("indico:htmlUpdated",s)},e.showUndoWarning=function(e,t,n){cornerMessage({message:e,progressMessage:$T.gettext("Undoing previous operation..."),feedbackMessage:t,actionLabel:$T.gettext("Undo"),actionCallback:n,duration:1e4,feedbackDuration:4e3,class:"warning"})},e.handleSelectedRowHighlight=function(e){const t=$("table.i-table input.select-row").on("change",(function(){$(this).closest("tr").toggleClass("selected",this.checked)}));e&&t.trigger("change")},e.showThemeSettingsForm=function(e){e=$.extend(!0,{formUrl:null,themeFieldId:null,lastFieldId:null},e),$(`#${e.themeFieldId}`).on("change",(function(){$.ajax({url:e.formUrl,data:{theme:$(this).val()},complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success(t){const n=$(`#${e.lastFieldId}`);n.nextAll(":not(.form-group-footer)").remove(),t.html&&n.after(t.html),t.js&&$("body").append(t.js)}})}))}}(window)},20574:e=>{"use strict";e.exports=jQuery}},e=>{"use strict";e.O(0,[8592],(()=>{return t=42430,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=module_events.management.1c2f92fc.bundle.js.map