{"version":3,"sources":["webpack:///indico/web/modules/events/client/js/search.jsx"],"names":["document","addEventListener","domContainer","querySelector","eventId","parseInt","dataset","isAdmin","undefined","ReactDOM","onSearch","keyword","__","adminOverrideEnabled","params","q","event_id","admin_override_enabled","window","location","eventSearchUrl"],"mappings":"mdAcAA,SAASC,iBAAiB,oBAAoB,KAC5C,MAAMC,EAAeF,SAASG,cAAc,qBAE5C,GAAID,EAAc,CAChB,MAAME,EAAUC,SAASH,EAAaI,QAAQF,QAAS,IACjDG,OAA2CC,IAAjCN,EAAaI,QAAQC,QAErCE,SACE,gBAAC,IAAD,CACEC,SAAU,CAACC,EAASC,EAAIC,KACtB,MAAMC,EAAS,CAACC,EAAGJ,EAASK,SAAUZ,GAClCG,GAAWM,IACbC,EAAOG,wBAAyB,GAElCC,OAAOC,SAAWC,EAAeN,IAEnCP,QAASA,IAEXL,S","file":"js/module_events.search.cdd200d3.bundle.js","sourcesContent":["// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport eventSearchUrl from 'indico-url:search.event_search';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport SearchBox from 'indico/modules/search/components/SearchBox';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const domContainer = document.querySelector('#event-search-box');\n\n  if (domContainer) {\n    const eventId = parseInt(domContainer.dataset.eventId, 10);\n    const isAdmin = domContainer.dataset.isAdmin !== undefined;\n\n    ReactDOM.render(\n      <SearchBox\n        onSearch={(keyword, __, adminOverrideEnabled) => {\n          const params = {q: keyword, event_id: eventId};\n          if (isAdmin && adminOverrideEnabled) {\n            params.admin_override_enabled = true;\n          }\n          window.location = eventSearchUrl(params);\n        }}\n        isAdmin={isAdmin}\n      />,\n      domContainer\n    );\n  }\n});\n"],"sourceRoot":""}