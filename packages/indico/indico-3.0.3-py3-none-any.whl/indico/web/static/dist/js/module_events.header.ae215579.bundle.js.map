{"version":3,"sources":["webpack:///indico/web/modules/events/client/js/header.jsx"],"names":["document","addEventListener","calendarContainer","querySelector","eventId","eventContribCount","eventSessionBlockCount","dataset","options","key","text","Translate","description","extraParams","parseInt","push","scope","ReactDOM","endpoint","params","event_id","renderButton","classes","icon","dropdown","title","dropdownPosition","popupPosition"],"mappings":"qtBAaAA,SAASC,iBAAiB,oBAAoB,KAC5C,MAAMC,EAAoBF,SAASG,cAAc,wBAEjD,IAAKD,EACH,OAGF,MAAM,QAACE,EAAD,kBAAUC,EAAV,uBAA6BC,GAA0BJ,EAAkBK,QACzEC,EAAU,CACd,CACEC,IAAK,QACLC,KAAMC,YAAiB,SACvBC,YAAaD,YAAiB,mBAC9BE,YAAa,KAGbC,SAASR,EAAwB,IAAM,GACzCE,EAAQO,KAAK,CACXN,IAAK,WACLG,YAAaD,YACX,0FAEFD,KAAMC,YAAiB,WACvBE,YAAa,CAACG,MAAO,aAGrBF,SAAST,EAAmB,IAAM,GACpCG,EAAQO,KAAK,CACXN,IAAK,gBACLC,KAAMC,YAAiB,YACvBC,YAAaD,YACX,iEAEFE,YAAa,CAACG,MAAO,kBAIzBC,SACE,gBAAC,KAAD,CACEC,SAAS,2BACTC,OAAQ,CAACC,SAAUhB,GACnBiB,aAAcC,GACZ,gBAAC,KAAD,CACEC,KAAK,WACLC,UAAQ,EACRF,QAAO,GAAG,eAAe,EAAM,cAAc,EAAM,QAAU,GAASA,GACtEG,MAAOd,YAAiB,YAG5Be,iBAAiB,WACjBC,cAAc,eACdnB,QAASA,IAEXN,Q","file":"js/module_events.header.ae215579.bundle.js","sourcesContent":["// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {IButton, ICSCalendarLink} from 'indico/react/components';\nimport {Translate} from 'indico/react/i18n';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const calendarContainer = document.querySelector('#event-calendar-link');\n\n  if (!calendarContainer) {\n    return;\n  }\n\n  const {eventId, eventContribCount, eventSessionBlockCount} = calendarContainer.dataset;\n  const options = [\n    {\n      key: 'event',\n      text: Translate.string('Basic'),\n      description: Translate.string('Just the event.'),\n      extraParams: {},\n    },\n  ];\n  if (parseInt(eventSessionBlockCount, 10) > 0) {\n    options.push({\n      key: 'sessions',\n      description: Translate.string(\n        'A detailed timetable containing individual session blocks and top-level contributions.'\n      ),\n      text: Translate.string('Compact'),\n      extraParams: {scope: 'session'},\n    });\n  }\n  if (parseInt(eventContribCount, 10) > 0) {\n    options.push({\n      key: 'contributions',\n      text: Translate.string('Detailed'),\n      description: Translate.string(\n        'A detailed timetable containing all individual contributions.'\n      ),\n      extraParams: {scope: 'contribution'},\n    });\n  }\n\n  ReactDOM.render(\n    <ICSCalendarLink\n      endpoint=\"events.export_event_ical\"\n      params={{event_id: eventId}}\n      renderButton={classes => (\n        <IButton\n          icon=\"calendar\"\n          dropdown\n          classes={{'height-full': true, 'text-color': true, 'subtle': true, ...classes}}\n          title={Translate.string('Export')}\n        />\n      )}\n      dropdownPosition=\"top left\"\n      popupPosition=\"bottom right\"\n      options={options}\n    />,\n    calendarContainer\n  );\n});\n"],"sourceRoot":""}