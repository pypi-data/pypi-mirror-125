TensorFrame class and two support functions