<tool id="identifier_multiple_in_conditional" name="identifier_multiple_in_conditional">
  <command><![CDATA[
    #if str($outer_cond.cond_param_outer) == 'true':
        #for $input in $outer_cond.inner_cond.input1#
            echo '$input.element_identifier' >> 'output1';
        #end for#
    #else
        echo '$input2.element_identifier' >> 'output1';
    #end if
  ]]></command>
  <inputs>
    <conditional name="outer_cond">
      <param name="cond_param_outer" type="boolean" checked="true" />
      <when value="true">
        <conditional name="inner_cond">
          <param name="cond_param_inner" type="boolean" checked="true" />
          <when value="true">
            <param type="data" name="input1" label="True Input" multiple="true" />
          </when>
        </conditional>
      </when>
      <when value="false">
        <param type="data" name="input2" label="True Input" />
      </when>
    </conditional>
  </inputs>
  <outputs>
    <data name="output1" format="tabular" from_work_dir="output1" />
  </outputs>
  <tests>
  </tests>
</tool>
