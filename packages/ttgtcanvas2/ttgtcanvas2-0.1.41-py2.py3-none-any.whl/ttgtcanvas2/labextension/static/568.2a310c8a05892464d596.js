(self.webpackChunkttgtcanvas2=self.webpackChunkttgtcanvas2||[]).push([[568],{568:function(e,t,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(657),t),n(i(367),t)},148:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WorldModel=void 0;const n=s(i(995)),a=s(i(755));t.WorldModel=class{constructor(){this.init_ui()}init(e,t,i={},s=[]){this.rows=e,this.cols=t,this.walls=i,this.robots=s,this.bs=50,this.height=e*this.bs,this.width=t*this.bs,this.draw_canvas()}init_ui(){let e=document.createElement("div");e.setAttribute("class","ttgt-wrapper");let t=document.createElement("div");t.setAttribute("id","container");let i=document.createElement("span"),s=document.createTextNode("Toggle");i.appendChild(s),i.setAttribute("class","bttn-txt");let r=document.createElement("button");r.appendChild(i),r.setAttribute("class","ttgt-sidebar-bttn"),r.onclick=function(){a.default("#container").toggle()},e.appendChild(t),e.appendChild(r),this.ui={wrapper:e,layers:{main:new n.default.Layer,line:new n.default.Layer,msg:new n.default.Layer}}}draw_canvas(){let e=new n.default.Stage({container:"container",width:this.width+this.bs+25,height:this.height+this.bs+25});e.add(this.ui.layers.main),e.add(this.ui.layers.line),e.add(this.ui.layers.msg),this.ui.stage=e,this.draw_border(),this.draw_grid(),this.ui.layers.main.draw()}draw_border(){let e=new n.default.Rect({x:50,y:25,stroke:"darkred",strokeWidth:10,closed:!0,width:this.width,height:this.height});this.ui.layers.main.add(e)}draw_grid(){this.draw_cols(),this.draw_rows(),this.draw_walls()}draw_cols(){for(let e=1;e<this.cols;e++){let t=new n.default.Line({x:50,y:25,stroke:"gray",points:[e*this.bs,5,e*this.bs,this.height-5]}),i=new n.default.Text({text:`${e}`,y:this.height+40,x:e*this.bs+25});this.ui.layers.main.add(t,i)}let e=new n.default.Text({text:`${this.cols}`,y:this.height+40,x:this.cols*this.bs+25});this.ui.layers.main.add(e)}draw_rows(){for(let e=1;e<this.rows;e++){let t=new n.default.Line({x:50,y:25,stroke:"gray",points:[this.width-5,e*this.bs,5,e*this.bs]}),i=new n.default.Text({text:""+(this.rows+1-e),x:25,y:e*this.bs-10});this.ui.layers.main.add(t,i)}let e=new n.default.Text({text:"1",x:25,y:this.rows*this.bs-10});this.ui.layers.main.add(e)}point2cxy(e,t){return[(e-1)*this.bs,this.height-(t-1)*this.bs]}add_wall(e,t,i){let s=null,[a,r]=this.point2cxy(e,t);"east"===i&&(s=new n.default.Line({x:50,y:25,stroke:"darkred",strokeWidth:10,points:[a+this.bs,r-this.bs,a+this.bs,r]})),"north"===i&&(s=new n.default.Line({x:50,y:25,stroke:"darkred",strokeWidth:10,points:[a,r-this.bs,a+this.bs,r-this.bs]})),s&&this.ui.layers.main.add(s)}draw_walls(){for(const e in this.walls)if(Object.prototype.hasOwnProperty.call(this.walls,e)){const t=this.walls[e];let[i,s]=e.split(",").map((e=>parseInt(e)));t.map((e=>{this.add_wall(i,s,e)}))}}}},657:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const s=i(306);t.MODULE_VERSION=s.version,t.MODULE_NAME=s.name},367:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MazeView=t.MazeModel=void 0;const n=i(565),a=i(657);i(204);const r=i(148),l=new(s(i(269)).default)({concurrency:1});class o extends n.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:o.model_name,_model_module:o.model_module,_model_module_version:o.model_module_version,_view_name:o.view_name,_view_module:o.view_module,_view_module_version:o.view_module_version,current_call:"{}",method_return:"{}"})}}t.MazeModel=o,o.serializers=Object.assign({},n.DOMWidgetModel.serializers),o.model_name="MazeModel",o.model_module=a.MODULE_NAME,o.model_module_version=a.MODULE_VERSION,o.view_name="MazeView",o.view_module=a.MODULE_NAME,o.view_module_version=a.MODULE_VERSION;class d extends n.DOMWidgetView{constructor(){super(...arguments),this.method_changed=()=>{let e=JSON.parse(this.model.get("current_call"));l.add((()=>{let t="function"==typeof this[e.method_name]?this[e.method_name].apply(this,e.params):null;console.log("current_call in promise",e);let i=this;return Promise.resolve(t).then((function(t){let s=JSON.stringify({value:t,cb:+new Date,params:e.params,method:e.method_name});return console.log("setting return",s),i.model.set("method_return",s),i.model.save_changes(),s}))}))},this.draw_all=(e,t,i,s=[])=>{this.world_model.init(e,t,i,s)}}render(){this.method_changed(),this.listenTo(this.model,"change:current_call",this.method_changed),this.world_model||(this.world_model=new r.WorldModel,this.el.appendChild(this.world_model.ui.wrapper))}}t.MazeView=d},889:(e,t,i)=>{(t=i(645)(!1)).push([e.id,"#container {\n  position: fixed;\n  right: 40px;\n  bottom: 30px;\n  min-width: 550px;\n  background-color: #f8f5e1;\n  border-left: 1px solid #aaa;\n  border-top: 1px solid #aaa;\n  z-index: 105;\n}\n\n.bttn-txt {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  transform: rotate(90deg);\n  width: 100%;\n  display: inline-block;\n}\n\n.ttgt-sidebar-bttn {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  width: 40px;\n  background-color: #f8f5e1;\n\n  z-index: 105;\n  height: 500px;\n}\n\n.ttgt-wrapper {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  background-color: #f8f5e1;\n  border-left: 1px solid #aaa;\n  border-top: 1px solid #aaa;\n  z-index: 105;\n}\n\n.hide {\n  display: none;\n}\n\n.show {\n  display: inherit;\n}\n",""]),e.exports=t},204:(e,t,i)=>{var s=i(379),n=i(889);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.id,n,""]]);s(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},306:e=>{"use strict";e.exports=JSON.parse('{"name":"ttgtcanvas2","version":"0.1.0","description":"A maze library","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com//ttgtcanvas2","bugs":{"url":"https://github.com//ttgtcanvas2/issues"},"license":"BSD-3-Clause","author":{"name":"Indresh Vishwakarma","email":"indresh@varsito.com"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com//ttgtcanvas2"},"scripts":{"build":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension:dev","build:prod":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","clean":"yarn run clean:lib && yarn run clean:nbextension && yarn run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf ttgtcanvas2/labextension","clean:nbextension":"rimraf ttgtcanvas2/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"yarn run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@jupyter-widgets/base":"^1.1.10 || ^2.0.0 || ^3.0.0 || ^4.0.0","konva":"^8.0.2","lodash":"^4.17.21","p-queue":"^7.1.0"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@jupyterlab/builder":"^3.0.0","@phosphor/application":"^1.6.0","@phosphor/widgets":"^1.6.0","@types/jest":"^26.0.0","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^3.6.0","@typescript-eslint/parser":"^3.6.0","acorn":"^7.2.0","css-loader":"^3.2.0","eslint":"^7.4.0","eslint-config-prettier":"^6.11.0","eslint-plugin-prettier":"^3.1.4","fs-extra":"^7.0.0","identity-obj-proxy":"^3.0.0","jest":"^26.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.0.5","rimraf":"^2.6.2","source-map-loader":"^1.1.3","style-loader":"^1.0.0","ts-jest":"^26.0.0","ts-loader":"^8.0.0","typescript":"~4.1.3","webpack":"^5.0.0","webpack-cli":"^4.0.0"},"jupyterlab":{"extension":"lib/plugin","outputDir":"ttgtcanvas2/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);