var We=Object.defineProperty,Ke=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var ge=(n,l,r)=>l in n?We(n,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[l]=r,v=(n,l)=>{for(var r in l||(l={}))Qe.call(l,r)&&ge(n,r,l[r]);if(xe)for(var r of xe(l))Xe.call(l,r)&&ge(n,r,l[r]);return n},g=(n,l)=>Ke(n,Ze(l));var j=(n,l,r)=>(ge(n,typeof l!="symbol"?l+"":l,r),r);import{c as Ye,u as et,d as f,a as H,r as w,o as i,b as c,w as t,e as a,f as e,R as tt,N as we,S as F,g as Z,h as Q,i as B,z as at,j as lt,k as nt,l as st,m as rt,n as ot,p as it,q as ut,s as dt,t as ct,v as _t,x as pt,y as ft,A as mt,B as X,C as Ne,D as L,E as Ie,F as ye,G as P,H as y,I as Se,J as T,L as Ue,K as Ce,M as Me,O as $,P as k,Q as ue,T as de,U as I,V as ce,W as z,X as Y,Y as b,Z as ee,_ as je,$ as Le,a0 as te,a1 as E,a2 as G,a3 as _e,a4 as pe,a5 as ae,a6 as fe,a7 as ht,a8 as vt,a9 as gt,aa as Pe,ab as O,ac as le,ad as yt,ae as ne,af as D,ag as J,ah as M,ai as Re,aj as bt,ak as be,al as $t,am as kt,an as Be,ao as xt,ap as wt,aq as Te,ar as se,as as Nt,at as It,au as St,av as Ut,aw as $e,ax as Ct,ay as Mt,az as ze,aA as Ee,aB as jt,aC as Lt,aD as Pt,aE as Rt,aF as Bt,aG as Tt,aH as zt,aI as Et,aJ as Ot,aK as At,aL as Dt,aM as Vt,aN as q,aO as me,aP as Ht,aQ as Ft,aR as Gt}from"./vendor.4f1c6489.js";const Jt=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerpolicy&&(d.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?d.credentials="include":o.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}};Jt();function Oe(n){return(n==null?void 0:n.startsWith("./"))||(n==null?void 0:n.startsWith("../"))||n=="."||n==".."}class qt{constructor(l){j(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let s=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return g(v({},s),{metadata:g(v({},s.metadata),{creation:new Date(s.metadata.creation.toString()),modification:new Date(s.metadata.modification.toString())}),dataUrl:this.resolveRelativeUrl(l)})}notes(l){return new Wt(`${this.baseUrl}/${l}/notes`,this.resolveRelativeUrl(l,"./notes"))}async update(l){let r=g(v({},l),{metadata:g(v({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(r),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}`,{method:"DELETE"})}resolveRelativeUrl(l,r="."){return Oe(r)?`${this.baseUrl}/${l}/${r}`:r}}class Wt{constructor(l,r){j(this,"baseUrl");j(this,"dataUrl");this.baseUrl=l,this.dataUrl=r}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let s=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return g(v({},s),{metadata:g(v({},s.metadata),{creation:new Date(s.metadata.creation.toString()),modification:new Date(s.metadata.modification.toString())}),dataUrl:this.dataUrl})}async update(l){let r=g(v({},l),{metadata:g(v({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(r),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}/`,{method:"DELETE"})}}class Ae{constructor(l){j(this,"baseUrl");j(this,"materials");this.baseUrl=l,this.materials=new qt(`${this.baseUrl}/materials`)}async metadata(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}}const De=Symbol(),Kt="/api",Zt=Ye({state(){return{api:new Ae(Kt),readerMode:!1}},mutations:{setApiUrl(n,l){n.api=new Ae(l)},setReaderMode(n,l){n.readerMode=l}}});function R(){return et(De)}const Qt=f({setup(n){return H(),w("home"),(l,r)=>(i(),c(F,null,{default:t(()=>[a(e(tt))]),fallback:t(()=>[a(e(we),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))}});var S=(n,l)=>{for(const[r,s]of l)n[r]=s;return n};const Xt=f({setup(n){Z();const l=R(),r=Q(),s="#f9f5e9FF",o={common:{baseColor:s,popoverColor:s,tableColor:s,cardColor:s,modalColor:s,bodyColor:s,tagColor:s,inputColor:s,codeColor:s,tabColor:s,actionColor:s,tableHeaderColor:s,hoverColor:s,inputColorDisabled:s}},d=B(()=>l.state.readerMode&&r.value!="dark"),u=B(()=>{let _=navigator.language;return _.indexOf("zh")!=-1?{lang:at,date:lt}:_.indexOf("ru")!=-1?{lang:nt,date:st}:_.indexOf("uk")!=-1?{lang:rt,date:ot}:_.indexOf("ja")!=-1?{lang:it,date:ut}:{lang:dt,date:ct}});return(_,p)=>(i(),c(e(pt),{style:{height:"100%"},theme:e(r)=="dark"?e(_t):null,"theme-overrides":e(d)?o:{},locale:e(u).lang,"date-locale":e(u).date},{default:t(()=>[a(e(mt),null,{default:t(()=>[a(e(ft)),(i(),c(F,null,{default:t(()=>[a(Qt)]),fallback:t(()=>[a(e(we),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme","theme-overrides","locale","date-locale"]))}});var Yt=S(Xt,[["__scopeId","data-v-4dea0e0f"]]);const ea=f({props:{scroll:null},setup(n){const l=n,r=B(()=>{var s;return(s=l.scroll)!=null?s:!1});return(s,o)=>e(r)?(i(),c(e(ye),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:t(()=>[a(e(Ne),{bordered:"",class:"page-header"},{default:t(()=>[X(s.$slots,"header",{},void 0,!0)]),_:3}),a(e(L),null,{default:t(()=>[X(s.$slots,"default",{},void 0,!0)]),_:3}),a(e(Ie),{right:100})]),_:3})):(i(),c(e(ye),{key:1,style:{height:"100%"}},{default:t(()=>[a(e(Ne),{bordered:"",class:"page-header"},{default:t(()=>[X(s.$slots,"header",{},void 0,!0)]),_:3}),a(e(L),{class:"page-content-scroll"},{default:t(()=>[X(s.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}});var re=S(ea,[["__scopeId","data-v-6b14b3e8"]]);const ta=$("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),aa=$("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),la=$("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),na=["href"];async function sa(n){let l,r;const s=([l,r]=P(async()=>([l,r]=P(()=>fetch("/build.json")),l=await l,r(),l).json()),l=await l,r(),l);return(o,d)=>(i(),c(e(I),{size:"large"},{default:t(()=>[a(e(T),{label:"Author"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(Se))]),_:1})]),default:t(()=>[ta]),_:1}),a(e(T),{label:"License"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(Ue))]),_:1})]),default:t(()=>[aa]),_:1}),a(e(T),{label:"Source Code"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(Ce))]),_:1})]),default:t(()=>[la]),_:1}),a(e(T),{label:"Commit"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(Me))]),_:1})]),default:t(()=>[$("a",{href:`https://github.com/StardustDL/paperead/commit/${e(s).commit}`,style:{"text-decoration":"none",color:"inherit"}},k(e(s).shortCommit),9,na)]),_:1}),a(e(T),{label:"Build Date"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(ue))]),_:1})]),default:t(()=>[a(e(de),{time:new Date(e(s).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const ra={components:{BrandGithub:Ce,At:Se,License:Ue,GitCommit:Me,Clock:ue}},oa=f(g(v({},ra),{setup:sa})),ia=b(" Paperead ");function ua(n){return(l,r)=>(i(),c(e(Y),null,{default:t(()=>[a(e(z),{to:"/"},{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(ce))]),_:1}),ia]),_:1})]),_:1}))}const da={components:{HomeIcon:ce}},oe=f(g(v({},da),{setup:ua}));const ca=b("Reading"),_a=b("\xA0and "),pa=b("Notes"),fa=b("Welcome to Paperead."),ma=["href"],ha=["href"],va=["href"];async function ga(n){let l,r;const s=R(),o=H(),d=Q(),u=B(()=>s.state.readerMode&&d.value!="dark");function _(m=!0){s.commit("setReaderMode",m)}const p="0.1.2",h=([l,r]=P(()=>s.state.api.metadata()),l=await l,r(),l);return(m,x)=>(i(),c(re,null,{header:t(()=>[a(e(ae),{subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0",onBack:x[2]||(x[2]=()=>e(o).back())},{avatar:t(()=>[a(e(ee),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(je))]),_:1})]),_:1})]),title:t(()=>[a(e(Le),{type:"info"},{default:t(()=>[ca]),_:1}),_a,a(e(Le),{type:"success"},{default:t(()=>[pa]),_:1})]),header:t(()=>[a(e(te),null,{default:t(()=>[a(oe)]),_:1})]),extra:t(()=>[a(e(I),null,{default:t(()=>[a(e(E),{size:"large",bordered:!1,onClick:x[0]||(x[0]=V=>e(o).push("/materials")),title:"Materials"},{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(G))]),_:1})]),_:1}),a(e(E),{size:"large",bordered:!1,title:"Reader mode",onClick:x[1]||(x[1]=()=>_(!e(u)))},{icon:t(()=>[a(e(y),null,{default:t(()=>[e(u)?(i(),c(e(_e),{key:0})):(i(),c(e(pe),{key:1}))]),_:1})]),_:1})]),_:1})]),footer:t(()=>[fa]),_:1})]),default:t(()=>[a(e(L),{"content-style":"padding: 10px;"},{default:t(()=>[a(e(I),{vertical:"",size:"large"},{default:t(()=>[a(e(fe),{title:"Server Information",hoverable:"",embedded:""},{default:t(()=>[a(e(I),{size:"large"},{default:t(()=>[a(e(T),{label:"Server Endpoint"},{default:t(()=>[$("a",{href:e(s).state.api.baseUrl},k(e(s).state.api.baseUrl),9,ma)]),_:1}),a(e(T),{label:"Server Version"},{default:t(()=>[$("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(h).version}`},k(e(h).version),9,ha)]),_:1}),a(e(T),{label:"Client Version"},{default:t(()=>[$("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(p)}`},k(e(p)),9,va)]),_:1})]),_:1})]),_:1}),a(e(fe),{title:"Paperead Information",hoverable:"",embedded:""},{default:t(()=>[(i(),c(F,null,{default:t(()=>[a(oa)]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}const ya={components:{Notebook:je,MaterialsIcon:G,EnableReaderIcon:pe,DisableReaderIcon:_e}},ba=f(g(v({},ya),{setup:ga}));var $a=S(ba,[["__scopeId","data-v-024387c1"]]);const ka=b("Home");function xa(n){const r=Z().params;return(s,o)=>(i(),c(e(ht),{status:"404",title:"Not Found",description:`Path: /${e(r).path.join("/")}`},{footer:t(()=>[a(e(E),null,{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(ce))]),_:1})]),default:t(()=>[a(e(z),{to:"/"},{default:t(()=>[ka]),_:1})]),_:1})]),_:1},8,["description"]))}const wa={components:{HomeIcon:ce,AlertCircle:vt}},Na=f(g(v({},wa),{setup:xa}));var Ia=S(Na,[["__scopeId","data-v-2c7fc51a"]]);const Sa=$("span",null,"Creation:",-1),Ua=b("\xA0 "),Ca=$("br",null,null,-1),Ma=$("span",null,"Modification:",-1),ja=b("\xA0 ");function La(n){const l=n;return(r,s)=>(i(),c(e(gt),null,{trigger:t(()=>[a(e(I),null,{default:t(()=>[a(e(y),{size:"large"},{default:t(()=>[a(e(ue))]),_:1}),a(e(de),{time:l.creation,type:"relative"},null,8,["time"])]),_:1})]),default:t(()=>[Sa,Ua,a(e(de),{time:l.creation},null,8,["time"]),Ca,Ma,ja,a(e(de),{time:n.modification},null,8,["time"])]),_:1}))}const Pa={components:{Clock:ue}},Ra=f(g(v({},Pa),{props:{creation:null,modification:null},setup:La}));function Ba(n){const l=n;return(r,s)=>(i(),c(e(I),null,{default:t(()=>[a(e(y),{size:"large"},{default:t(()=>[a(e(Pe))]),_:1}),(i(!0),O(ne,null,le(l.tags,o=>(i(),c(e(yt),{key:o,size:"small"},{default:t(()=>[b(k(o),1)]),_:2},1024))),128))]),_:1}))}const Ta={components:{Tag:Pe}},za=f(g(v({},Ta),{props:{tags:null},setup:Ba})),he=f({props:{data:null},setup(n){return(l,r)=>(i(),c(e(I),null,{default:t(()=>[a(Ra,{creation:n.data.creation,modification:n.data.modification},null,8,["creation","modification"]),n.data.tags.length>0?(i(),c(za,{key:0,tags:n.data.tags},null,8,["tags"])):D("",!0)]),_:1}))}});const Ea=f({props:{id:null},setup(n){const l=n,r=R(),s=w();async function o(){s.value=await r.state.api.materials.get(l.id)}return J(o),M(l,o),(d,u)=>s.value?(i(),c(e(fe),{key:0,hoverable:""},{header:t(()=>[a(e(z),{to:`/materials/${s.value.id}`},{default:t(()=>[b(k(s.value.metadata.name),1)]),_:1},8,["to"])]),action:t(()=>[a(he,{data:s.value.metadata},null,8,["data"])]),default:t(()=>[s.value.content.length>0?(i(),c(e(Re),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[b(k(s.value.content),1)]),_:1})):D("",!0)]),_:1})):D("",!0)}});var Oa=S(Ea,[["__scopeId","data-v-468e43f2"]]);const Ve=f({props:{items:null},setup(n){const l=n,r=w([]),s=w(1),o=w(5);function d(){let u=(s.value-1)*o.value;r.value=l.items.slice(u,u+o.value)}return M(s,d),M(o,d),J(d),M(l,()=>s.value=1),(u,_)=>(i(),c(e(I),{vertical:""},{default:t(()=>[(i(!0),O(ne,null,le(r.value,p=>(i(),c(F,{key:p},{default:t(()=>[X(u.$slots,"default",{item:p})]),fallback:t(()=>[a(e(be),{text:"",repeat:2})]),_:2},1024))),128)),a(e(bt),{style:{"justify-content":"center","margin-top":"20px"},"item-count":n.items.length,"page-size":o.value,"onUpdate:page-size":_[0]||(_[0]=p=>o.value=p),page:s.value,"onUpdate:page":_[1]||(_[1]=p=>s.value=p),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}}),Aa=b(" Materials ");function Da(n){return(l,r)=>(i(),c(e(Y),null,{default:t(()=>[a(e(z),{to:"/materials"},{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(G))]),_:1}),Aa]),_:1})]),_:1}))}const Va={components:{MaterialsIcon:G}},ve=f(g(v({},Va),{setup:Da}));const Ha=b("Materials");async function Fa(n){let l,r;const s=R(),o=H(),d=([l,r]=P(()=>s.state.api.materials.all()),l=await l,r(),l);return(u,_)=>(i(),c(re,null,{header:t(()=>[a(e(ae),{subtitle:"\u6240\u6709\u6750\u6599",onBack:_[0]||(_[0]=()=>e(o).back())},{title:t(()=>[Ha]),header:t(()=>[a(e(te),null,{default:t(()=>[a(oe),a(ve)]),_:1})]),avatar:t(()=>[a(e(ee),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(G))]),_:1})]),_:1})]),footer:t(()=>[b("Totally "+k(e(d).length)+" material"+k(e(d).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(L),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Ve,{items:e(d)},{default:t(p=>[a(Oa,{id:p.item},null,8,["id"])]),_:1},8,["items"])]),_:1})]),_:1}))}const Ga={components:{MaterialsIcon:G}},Ja=f(g(v({},Ga),{setup:Fa}));var qa=S(Ja,[["__scopeId","data-v-23e8e8fa"]]);const Wa=$("thead",null,[$("tr",null,[$("th",null,"Key"),$("th",null,"Value")])],-1);function Ka(n){const l=n,r=B(()=>{let s=[];for(let o in l.data.metadata.targets){let d=l.data.metadata.targets[o],u=Oe(d)?`${l.data.dataUrl}/${d}`:d;s.push({label:()=>$t("a",{target:"_blank",href:u},o),key:o})}return s});return(s,o)=>(i(),c(e(I),null,{default:t(()=>[Object.keys(n.data.metadata.extra).length>0?(i(),c(e(kt),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:t(()=>[a(e(E),{bordered:!1,size:"large",title:"Extra"},{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(Be))]),_:1})]),_:1})]),default:t(()=>[a(e(xt),null,{default:t(()=>[Wa,$("tbody",null,[(i(!0),O(ne,null,le(n.data.metadata.extra,(d,u)=>(i(),O("tr",{key:u},[$("td",null,k(u),1),$("td",null,k(d),1)]))),128))])]),_:1})]),_:1})):D("",!0),Object.keys(n.data.metadata.targets).length>0?(i(),c(e(wt),{key:1,options:e(r),placement:"bottom-start"},{default:t(()=>[a(e(E),{bordered:!1,size:"large",title:"Targets"},{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(Te))]),_:1})]),_:1})]),_:1},8,["options"])):D("",!0)]),_:1}))}const Za={components:{Book:se,ArrowRight:Nt,ExternalLink:Te,InfoSquare:Be}},He=f(g(v({},Za),{props:{data:null},setup:Ka}));function Qa(n){return(l,r)=>(i(),c(e(Y),null,{default:t(()=>[a(e(z),{to:`/materials/${n.id}`},{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(se))]),_:1}),b(" "+k(n.id),1)]),_:1},8,["to"])]),_:1}))}const Xa={components:{MaterialIcon:se}},ke=f(g(v({},Xa),{props:{id:null},setup:Qa})),Ya=f({props:{value:null},setup(n){const l=n;return(r,s)=>{const o=It("MarkdownPreviewOutlineItem",!0);return i(),c(e(St),{title:l.value.title,href:l.value.href},{default:t(()=>[(i(!0),O(ne,null,le(l.value.children,d=>(i(),c(o,{key:d.href,value:d},null,8,["value"]))),128))]),_:1},8,["title","href"])}}});class el{constructor(l="",r="",s){j(this,"title","");j(this,"href","");j(this,"children",[]);this.title=l,this.href=r,s==null&&(s=[]),this.children=s}}const tl=f({props:{element:null},setup(n,{expose:l}){const r=n,s=w();function o(u){var x,V,A;let p=(x=u.children[0].getAttribute("data-target-id"))!=null?x:"",h=(A=(V=document.getElementById(p))==null?void 0:V.innerText)!=null?A:p,m=new el(h,`#${p}`);if(u.children.length>1){let W=u.children[1];for(let K=0;K<W.children.length;K++)m.children.push(o(W.children[K]))}return m}async function d(){if(r.element==null)return!1;let u=document.createElement("div");if($e.outlineRender(r.element,u),u.children.length==0)return s.value=[],!1;let _=u.children[0],p=[];for(let h=0;h<_.children.length;h++)p.push(o(_.children[h]));return s.value=p,!0}return J(d),M(r,d),l({renderOutline:d}),(u,_)=>(i(),c(e(Ut),{type:"block","listen-to":n.element,"ignore-gap":!0},{default:t(()=>[(i(!0),O(ne,null,le(s.value,p=>(i(),c(Ya,{key:p.href,value:p},null,8,["value"]))),128))]),_:1},8,["listen-to"]))}});function al(n,{expose:l}){const r=n,s=R(),o=Q(),d=B(()=>{var U;return(U=r.baseUrl)!=null?U:""}),u=B(()=>o.value=="dark"?"dark":"light"),_=w(),p=w(),h=w(!0),m=w(!1),x=B(()=>s.state.readerMode&&o.value!="dark"),V=w(!1);async function A(){await $e.preview(_.value,r.value,{mode:u.value,speech:{enable:!0},hljs:{lineNumber:!0,style:u.value=="dark"?"dracula":x.value?"monokailight":"github"},markdown:{linkBase:d.value,mark:!0},theme:{current:u.value}}),V.value=await p.value.renderOutline();{let U=_.value.getElementsByTagName("img");for(let C=0;C<U.length;C++){let N=U.item(C);N!=null&&(N.onclick=ie=>{$e.previewImage(N,void 0,u.value)})}}}function W(U=!0){m.value=U}function K(U=!0){s.commit("setReaderMode",U)}return J(A),M(r,A),M(o,A),M(x,A),l({fullscreen:W}),(U,C)=>(i(),c(e(ye),{class:Rt(m.value?"fullscreen":"normal"),"has-sider":"","sider-placement":"right"},{default:t(()=>[a(e(L),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1},{default:t(()=>[$("article",{ref:(N,ie)=>{ie.element=N,_.value=N},style:{"padding-bottom":"200px"}},null,512),a(e(Ie),{right:h.value?50:250,style:Ct(m.value?{"z-index":2}:{})},null,8,["right","style"])]),_:1}),a(e(Pt),{style:{height:"100%","background-color":"inherit"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar","default-collapsed":!0,"show-collapsed-content":!1,collapsed:h.value,"onUpdate:collapsed":C[2]||(C[2]=N=>h.value=N)},{default:t(()=>[a(e(L),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:t(()=>[a(e(I),null,{default:t(()=>[a(e(Mt),null,{default:t(()=>[a(e(E),{title:"Full screen",onClick:C[0]||(C[0]=()=>W(!m.value))},{icon:t(()=>[a(e(y),null,{default:t(()=>[m.value?(i(),c(e(ze),{key:0})):(i(),c(e(Ee),{key:1}))]),_:1})]),_:1}),a(e(E),{title:"Reader mode",onClick:C[1]||(C[1]=()=>K(!e(x)))},{icon:t(()=>[a(e(y),null,{default:t(()=>[e(x)?(i(),c(e(_e),{key:0})):(i(),c(e(pe),{key:1}))]),_:1})]),_:1})]),_:1}),jt(a(tl,{element:_.value,ref:(N,ie)=>{ie.outline=N,p.value=N}},null,8,["element"]),[[Lt,V.value]])]),_:1})]),_:1})]),_:1},8,["collapsed"])]),_:1},8,["class"]))}const ll={components:{Maximize:Ee,Minimize:ze,EnableReaderIcon:pe,DisableReaderIcon:_e}},nl=f(g(v({},ll),{props:{value:null,baseUrl:null},setup:al}));var sl=S(nl,[["__scopeId","data-v-caa007e0"]]);const rl=f({props:{data:null},setup(n){return(l,r)=>(i(),c(sl,{value:n.data.content,"base-url":n.data.dataUrl},null,8,["value","base-url"]))}});const ol={class:"slides"},il={"data-markdown":"","data-separator":"^\\r?\\n===\\r?\\n$","data-separator-vertical":"^\\r?\\n---\\r?\\n$","data-separator-notes":"notes?:"},ul={"data-template":""},dl=f({props:{data:null},setup(n){const l=n,r=Q(),s=w(),o=w(),d=w();function u(){let p=document.getElementsByTagName("head")[0];o.value!=null&&p.removeChild(o.value),d.value!=null&&p.removeChild(d.value)}function _(){let p=document.getElementsByTagName("head")[0],h=document.createElement("link");h.type="text/css",h.rel="stylesheet";let m=document.createElement("link");m.type="text/css",m.rel="stylesheet",h.href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.2/theme/white.min.css",m.href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/github.min.css",r.value=="dark"&&(h.href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.2/theme/black.min.css",m.href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/monokai.min.css"),p.appendChild(h),p.appendChild(m),o.value=h,d.value=m}return J(()=>{new Bt({plugins:[Tt,zt,Et,Ot,At,Dt],center:!1,markdown:{baseUrl:l.data.dataUrl,smartLists:!0,smartypants:!0},slideNumber:"c/t",hash:!0,embedded:!0}).initialize(),_()}),Vt(u),M(r,()=>{u(),_()}),(p,h)=>(i(),O("div",{class:"reveal",ref:(m,x)=>{x.element=m,s.value=m}},[$("div",ol,[$("section",il,[$("textarea",ul,k(n.data.content),1)])])],512))}}),cl=f({props:{data:null},setup(n){return Q(),(l,r)=>(i(),c(dl,{data:n.data},null,8,["data"]))}}),_l={key:0},Fe=f({props:{data:null},setup(n){return(l,r)=>n.data.metadata.schema=="empty"?(i(),O("span",_l,"Empty data")):n.data.metadata.schema=="slides"?(i(),c(cl,{key:1,data:n.data},null,8,["data"])):(i(),c(rl,{key:2,data:n.data},null,8,["data"]))}});async function pl(n){let l,r;const s=Z(),o=H(),d=R(),u=s.params,_=([l,r]=P(()=>d.state.api.materials.get(u.id)),l=await l,r(),l);return document.title=`${_.metadata.name} - Materials - Paperead`,(p,h)=>(i(),c(re,null,{header:t(()=>[a(e(ae),{onBack:h[1]||(h[1]=()=>e(o).back())},{title:t(()=>[b(k(e(_).metadata.name),1)]),header:t(()=>[a(e(te),null,{default:t(()=>[a(oe),a(ve),a(ke,{id:e(_).id},null,8,["id"])]),_:1})]),avatar:t(()=>[a(e(ee),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(se))]),_:1})]),_:1})]),extra:t(()=>[a(e(I),null,{default:t(()=>[a(e(E),{size:"large",bordered:!1,onClick:h[0]||(h[0]=m=>e(o).push(`/materials/${e(_).id}/notes`)),title:"Notes"},{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(q))]),_:1})]),_:1}),a(He,{data:e(_)},null,8,["data"])]),_:1})]),footer:t(()=>[a(he,{data:e(_).metadata},null,8,["data"])]),_:1})]),default:t(()=>[a(e(L),{style:{height:"100%"}},{default:t(()=>[(i(),c(F,null,{default:t(()=>[a(Fe,{data:e(_)},null,8,["data"])]),fallback:t(()=>[a(e(be),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1}))}const fl={components:{MaterialIcon:se,NotesIcon:q}},ml=f(g(v({},fl),{setup:pl}));var hl=S(ml,[["__scopeId","data-v-568b042e"]]);const vl=f({props:{id:null,noteId:null},setup(n){const l=n,r=R(),s=w();async function o(){s.value=await r.state.api.materials.notes(l.id).get(l.noteId)}return J(o),M(l,o),(d,u)=>s.value?(i(),c(e(fe),{key:0,hoverable:""},{header:t(()=>[a(e(z),{to:`/materials/${l.id}/notes/${s.value.id}`},{default:t(()=>[b(k(s.value.metadata.name),1)]),_:1},8,["to"])]),action:t(()=>[a(he,{data:s.value.metadata},null,8,["data"])]),default:t(()=>[s.value.content.length>0?(i(),c(e(Re),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[b(k(s.value.content),1)]),_:1})):D("",!0)]),_:1})):D("",!0)}});var gl=S(vl,[["__scopeId","data-v-426f1df6"]]);const yl=b(" Notes ");function bl(n){return(l,r)=>(i(),c(e(Y),null,{default:t(()=>[a(e(z),{to:`/materials/${n.id}/notes`},{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(q))]),_:1}),yl]),_:1},8,["to"])]),_:1}))}const $l={components:{NotesIcon:q}},Ge=f(g(v({},$l),{props:{id:null},setup:bl}));const kl=b("Notes");async function xl(n){let l,r;const s=R(),o=H(),u=Z().params,_=([l,r]=P(()=>s.state.api.materials.notes(u.id).all()),l=await l,r(),l),p=([l,r]=P(()=>s.state.api.materials.get(u.id)),l=await l,r(),l);return document.title=`Notes - ${p.metadata.name} - Materials - Paperead`,(h,m)=>(i(),c(re,null,{header:t(()=>[a(e(ae),{subtitle:"\u6240\u6709\u7B14\u8BB0",onBack:m[0]||(m[0]=()=>e(o).back())},{title:t(()=>[kl]),header:t(()=>[a(e(te),null,{default:t(()=>[a(oe),a(ve),a(ke,{id:e(u).id},null,8,["id"]),a(Ge,{id:e(u).id},null,8,["id"])]),_:1})]),avatar:t(()=>[a(e(ee),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(q))]),_:1})]),_:1})]),footer:t(()=>[b("Totally "+k(e(_).length)+" note"+k(e(_).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(L),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Ve,{items:e(_)},{default:t(x=>[a(gl,{id:e(u).id,noteId:x.item},null,8,["id","noteId"])]),_:1},8,["items"])]),_:1})]),_:1}))}const wl={components:{NotesIcon:q}},Nl=f(g(v({},wl),{setup:xl}));var Il=S(Nl,[["__scopeId","data-v-7d23d45c"]]);function Sl(n){return(l,r)=>(i(),c(e(Y),null,{default:t(()=>[a(e(z),{to:`/materials/${n.id}/notes/${n.noteId}`},{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(me))]),_:1}),b(" "+k(n.noteId),1)]),_:1},8,["to"])]),_:1}))}const Ul={components:{NoteIcon:me}},Cl=f(g(v({},Ul),{props:{id:null,noteId:null},setup:Sl}));async function Ml(n){let l,r;const s=Z(),o=H(),d=R(),u=s.params,_=([l,r]=P(()=>d.state.api.materials.notes(u.id).get(u.noteId)),l=await l,r(),l),p=([l,r]=P(()=>d.state.api.materials.get(u.id)),l=await l,r(),l);return document.title=`${_.metadata.name} - Notes - ${p.metadata.name} - Materials - Paperead`,(h,m)=>(i(),c(re,null,{header:t(()=>[a(e(ae),{onBack:m[0]||(m[0]=()=>e(o).back())},{title:t(()=>[b(k(e(_).metadata.name),1)]),header:t(()=>[a(e(te),null,{default:t(()=>[a(oe),a(ve),a(ke,{id:e(u).id},null,8,["id"]),a(Ge,{id:e(u).id},null,8,["id"]),a(Cl,{id:e(u).id,"note-id":e(_).id},null,8,["id","note-id"])]),_:1})]),avatar:t(()=>[a(e(ee),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(me))]),_:1})]),_:1})]),extra:t(()=>[a(He,{data:e(_)},null,8,["data"])]),footer:t(()=>[a(he,{data:e(_).metadata},null,8,["data"])]),_:1})]),default:t(()=>[a(e(L),{style:{height:"100%"}},{default:t(()=>[(i(),c(F,null,{default:t(()=>[a(Fe,{data:e(_)},null,8,["data"])]),fallback:t(()=>[a(e(be),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1}))}const jl={components:{NoteIcon:me}},Ll=f(g(v({},jl),{setup:Ml}));var Pl=S(Ll,[["__scopeId","data-v-6643ac82"]]);const Rl=[{path:"/",component:$a,meta:{title:"Home - Paperead"}},{path:"/materials",component:qa,meta:{title:"Materials - Paperead"}},{path:"/materials/:id",component:hl,meta:{title:"Loading... - Materials - Paperead"}},{path:"/materials/:id/notes",component:Il,meta:{title:"Notes - Loading... - Materials - Paperead"}},{path:"/materials/:id/notes/:noteId",component:Pl,meta:{title:"Loading... - Notes - Loading... - Materials - Paperead"}},{path:"/:path*",component:Ia,meta:{title:"Not found - Paperead"}}],Je=Ht({history:Ft(),routes:Rl});Je.beforeEach((n,l)=>(n.path==l.path||(document.title=n.meta.title.toString()),!0));const qe=Gt(Yt);qe.use(Je).use(Zt,De);qe.mount("#app");
